self.addEventListener('install', function(event) {

// Perform install steps
var CACHE_NAME = 'my-site-cache-v1';
var urlsToCache = [
  '/',
  'misc/email.png',
  'misc/french.png',
  'misc/hash_english.png',
  'misc/sprites.md',
  'misc/PROMO.md',
  'misc/swear_french.png',
  'misc/hash_french.png',
  'misc/swear_english.png',
  'misc/english.png',
  'scenes/act1.md',
  'scenes/act4.md',
  'scenes/credits.md',
  'scenes/intro.md',
  'scenes/PROMO.md',
  'scenes/intermission.md',
  'scenes/act3.md',
  'scenes/act2.md',
  'index.html',
  'sharing/anim.gif',
  'sharing/screenshots/4.png',
  'sharing/screenshots/5.png',
  'sharing/screenshots/6.png',
  'sharing/screenshots/2.png',
  'sharing/screenshots/3.png',
  'sharing/screenshots/1.png',
  'sharing/screenshots/0.png',
  'sharing/index.html',
  'sharing/banner.png',
  'sharing/thumb.gif',
  'sharing/thumb_no_words.png',
  'sharing/thumb.png',
  'sounds/music/hum.mp3',
  'sounds/music/party2.mp3',
  'sounds/music/party1.mp3',
  'sounds/music/pogMIX.mp3',
  'sounds/music/battle_dark_LOOP.mp3',
  'sounds/music/upbeatcreditMIX.mp3',
  'sounds/music/campus.mp3',
  'sounds/music/pokemon.mp3',
  'sounds/music/battle_dark_FIRST.mp3',
  'sounds/music/uplifting_pog_MIX.mp3',
  'sounds/ui/hover.mp3',
  'sounds/ui/button1.mp3',
  'sounds/ui/click.mp3',
  'sounds/ui/button2.mp3',
  'sounds/ui/show_choice.mp3',
  'sounds/sfx/grass_step2.mp3',
  'sounds/sfx/hadouken.mp3',
  'sounds/sfx/concrete_step2.mp3',
  'sounds/sfx/sandwich.mp3',
  'sounds/sfx/concrete_step3.mp3',
  'sounds/sfx/dirty_explosion.mp3',
  'sounds/sfx/fart.mp3',
  'sounds/sfx/grass_step1.mp3',
  'sounds/sfx/faucet.mp3',
  'sounds/sfx/act1_scream.mp3',
  'sounds/sfx/concrete_step1.mp3',
  'sounds/sfx/whoosh.mp3',
  'sounds/sfx/rustle2.mp3',
  'sounds/sfx/drinking.mp3',
  'sounds/sfx/intro_scream.mp3',
  'sounds/sfx/concrete_step4.mp3',
  'sounds/sfx/yaps.mp3',
  'sounds/sfx/bounce1.mp3',
  'sounds/sfx/slide.mp3',
  'sounds/sfx/bounce3.mp3',
  'sounds/sfx/claps.mp3',
  'sounds/sfx/bounce2.mp3',
  'sounds/sfx/rustle.mp3',
  'sounds/sfx/hit.mp3',
  'sounds/sfx/pop.mp3',
  'sounds/sfx/hit_bb.mp3',
  'sounds/sfx/cheers.mp3',
  'sounds/sfx/charging.mp3',
  'sounds/sfx/bag_search.mp3',
  'sounds/sfx/door.mp3',
  'sounds/sfx/quack.mp3',
  'sounds/sfx/alshire_run.mp3',
  'sounds/sfx/bottle_slip.mp3',
  'sounds/sfx/laugh.mp3',
  'sounds/sfx/hiya.mp3',
  'sounds/sfx/record_scratch.mp3',
  'sounds/sfx/lock_door.mp3',
  'sounds/sfx/gravel.mp3',
  'sounds/sfx/yelp.mp3',
  'sounds/sfx/squeak.mp3',
  'sounds/sfx/hit_big.mp3',
  'sounds/sfx/smash_glass.mp3',
  'sounds/sfx/bag_short.mp3',
  'sounds/sfx/hospital3.mp3',
  'sounds/sfx/bottle_toss.mp3',
  'sounds/sfx/hospital2.mp3',
  'sounds/sfx/bag_kick.mp3',
  'sounds/sfx/hospital1.mp3',
  'sounds/stings/you_both_winMIX.mp3',
  'sounds/stings/you_winMIX.mp3',
  'sounds/voices/al.mp3',
  'sounds/voices/beebee.mp3',
  'sounds/voices/beebee_old.mp3',
  'sounds/voices/hong.mp3',
  'sounds/voices/beebee_long.mp3',
  'sounds/voices/hunter.mp3',
  'sounds/voices/shire.mp3',
  'sounds/voices/typewriter.mp3',
  'sounds/voices/narrator_emphasis.mp3',
  'sounds/voices/narrator.mp3',
  'styles/game.css',
  'favicon.png',
  'favicon-192x192.png',
  'favicon-512x512.png',
  'scripts/intermission/Intermission_BG.js',
  'scripts/intermission/Intermission_SceneSetup.js',
  'scripts/intro/Intro_SceneSetup.js',
  'scripts/intro/Intro_BG.js',
  'scripts/game/Game.js',
  'scripts/game/About.js',
  'scripts/game/Sharing.js',
  'scripts/game/Options.js',
  'scripts/game/Sounds.js',
  'scripts/game/BG_Anxiety.js',
  'scripts/game/ContentNotes.js',
  'scripts/game/Sprite.js',
  'scripts/game/Character.js',
  'scripts/game/HP.js',
  'scripts/game/Loader.js',
  'scripts/act1/Act1_Hong.js',
  'scripts/act1/Act1_SceneSetup.js',
  'scripts/act1/Act1_Outro_BG.js',
  'scripts/act1/Act1_Beebee.js',
  'scripts/main.js',
  'scripts/lib/rsvp.min.js',
  'scripts/lib/tickable_observer.js',
  'scripts/lib/minpubsub.min.js',
  'scripts/lib/createImageBitmap.js',
  'scripts/lib/helpers.js',
  'scripts/lib/howler.min.js',
  'scripts/act3/Act3_Beebee.js',
  'scripts/act3/Act3_Hong.js',
  'scripts/act3/Act3_BG.js',
  'scripts/act3/Act3_SceneSetup.js',
  'scripts/act4/Act4_BG.js',
  'scripts/act4/Act4_Beebee.js',
  'scripts/act4/Act4_SceneSetup.js',
  'scripts/act4/Act4_Hong.js',
  'scripts/credits/Credits_BG.js',
  'scripts/credits/Credits_SceneSetup.js',
  'scripts/act2/Act2_BG.js',
  'scripts/act2/Act2_SceneSetup.js',
  'scripts/act2/Act2_Hong.js',
  'scripts/act2/Act2_Beebee.js',
  'sprites/ui/fear_harm.png',
  'sprites/ui/fear_alone.png',
  'sprites/ui/fear_bad.png',
  'sprites/ui/preloader.png',
  'sprites/ui/icons.png',
  'sprites/ui/hp.png',
  'sprites/ui/fear_captions.png',
  'sprites/intermission/youwin.png',
  'sprites/intermission/bb.png',
  'sprites/intermission/bg.png',
  'sprites/intro/intro_bg.png',
  'sprites/intro/intro_logo.png',
  'sprites/intro/intro_anim.png',
  'sprites/about/replay.png',
  'sprites/about/cc0.png',
  'sprites/about/the_end.png',
  'sprites/about/share.png',
  'sprites/act1/act1_beebee.png',
  'sprites/act1/act1_hong.png',
  'sprites/act1/act1_end.png',
  'sprites/act3/hospital.png',
  'sprites/act3/dizzy.png',
  'sprites/act3/hunter.png',
  'sprites/act3/fight_bb.png',
  'sprites/act3/hong.png',
  'sprites/act3/fight_hong.png',
  'sprites/act3/dd.png',
  'sprites/act3/transition.png',
  'sprites/act3/rooftop_bg.png',
  'sprites/act4/break_hp.png',
  'sprites/act4/al_shire.png',
  'sprites/act4/bb_convo.png',
  'sprites/act4/hong_transition.png',
  'sprites/act4/hong_convo.png',
  'sprites/act4/hong_closer.png',
  'sprites/act4/hong_walks_in.png',
  'sprites/act4/sexy.png',
  'sprites/act4/hong_to_alshire.png',
  'sprites/act4/bb_to_alshire.png',
  'sprites/act4/bb_closer.png',
  'sprites/act4/callback.png',
  'sprites/credits/screens.png',
  'sprites/credits/end_walk.png',
  'sprites/credits/gramm.png',
  'sprites/credits/bb_dance.png',
  'sprites/credits/starring.png',
  'sprites/credits/end_message.png',
  'sprites/credits/thanks.png',
  'sprites/act2/party_bg.png',
  'sprites/act2/dum.png',
  'sprites/act2/dee.png',
  'sprites/act2/battle_hong.png',
  'sprites/act2/special.png',
  'sprites/act2/act2_end.png',
  'sprites/act2/battle_bb.png',
  'sprites/act2/party_hong.png',
  'sprites/act2/party_hunter.png'
];

self.addEventListener('install', function(event) {
  // Perform install steps
  event.waitUntil(
    caches.open(CACHE_NAME)
      .then(function(cache) {
        console.log('Opened cache');
        return cache.addAll(urlsToCache);
      })
  );
});

self.addEventListener('fetch', function(event) {
  event.respondWith(
    caches.match(event.request)
      .then(function(response) {
        // Cache hit - return response
        if (response) {
          return response;
        }
        return fetch(event.request);
      }
    )
  );
});

});
